<script type='text/javascript'>
$(function () {

      /*
            Populate Dropdowns/Fetch Data
          */

      setTimeout(() => {
        //CSV Files
        fetch("http://127.0.0.1:5000/datafiles")
          .then((response) => response.json())
          .then((data_files) => {
            console.log(data_files);
            for (i = 0; i < data_files.length; i++) {
              const split = data_files[i].split("/");
              file_name = split[split.length - 1];
              $("#file-select").append(
                $("<option>", {
                  value: data_files[i],
                  text: file_name,
                })
              );
            }
          });

          //input types
          fetch("http://127.0.0.1:5000/getreaders")
          .then((response) => response.json())
          .then((readers) => {
            console.log(readers);
            for (i = 0; i < readers.length; i++) {
              $("#input-select").append(
                $("<option>", {
                  value: readers[i].key,
                  text: readers[i].name,
                })
              );
            }
          });

      }, 1000);
    });

    $('#input-select').on('change', function() {
      console.log(this.value)
      if(this.value=='filereader'){ 
        $("#file-select").attr("disabled", false);
        $("#file-select").attr('style', 'display:inline')
      }
      else{ $("#file-select").attr('style', 'display:none')}
    });
function onFileSelect() {
    //set radio to file and enable the file selector
    $("#file-select").attr("disabled", false);
    $("#input-type-live").attr("checked", false);
  }

  function onLiveSelect() {
    //set radio to live and disable the file selector
    $("#file-select").attr("disabled", true);
    $("#input-type-file").attr("checked", false);
  }
  function onRandomSelect() {
    //set radio to live and disable the file selector
    $("#file-select").attr("disabled", true);
    $("#input-type-file").attr("checked", false);
    $("#input-type-random").attr("checked", true);
  }
</script>

  <select
    id="input-select"
    class="form-select"
    aria-label="Default select example"
  >
    <option selected>Input</option>
  </select>
  <select
    id="file-select"
    class="form-select"
    aria-label="Default select example"
    style='display:none'
    disabled
  >
  </select>
</div>